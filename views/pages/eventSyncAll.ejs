<!DOCTYPE html>
<html>

<head>
    <title>Google Events</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

</head>

<body>
    <div class="container">
        <div class="jumbotron text-center text-primary">
            <h1>Events List</h1>
            <h4>Length : <%= events.length %></h4>
        </div>
        <div class="table-responsive-xl row justify-content-center">
            <table class="table table-dark table-striped table-hover ">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Title</th>
                        <th scope="col">Description</th>
                        <th scope="col">Location</th>
                        <th scope="col">Start Time</th>
                        <th scope="col">End Time</th>
                        <th scope="col">Organizer</th>
                        <th scope="col">Participants</th>
                    </tr>
                </thead>
                <tbody>
                    <% for (var i=0; i < events.length; i++) { %>
                    <tr>
                        <td><%= events[i].id  %></td>
                        <td><%= events[i].title %></td>
                        <td><%= events[i].description %></td>
                        <td><%= events[i].location  %></td>
                        <td><%= events[i].start_time %></td>
                        <td><%= events[i].end_time %></td>
                        <td><%= events[i].organizer  %></td>
                        <td><%= events[i].participants %></td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </div>




        <div class="text-center">
            <a href="/eventsyncall/sync" class="btn btn-success">Sync All</a>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            flatpickr('#start_time', {
                enableTime: true,
            })
            flatpickr('#end_time', {
                enableTime: true,
            })
        })

        function windowReload() {
            if ($('#new_event')[0].checkValidity()) {
                console.log('window reloaded')
                if (confirm('Event Added/Updated!')) {
                    // window.location.reload(true)
                }
            }

        }
    </script>
</body>

</html>